<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JS Bridge Test</title>
</head>
<body>
  <h1 id="title">Test WebView JS Bridge</h1>
  <p id="subtitle">Esperando respuesta...</p>
  <button onclick="callNativeBridge()">Llamar a KMP</button>

  <script>
    function callNativeBridge() {
      if (window.kmpJsBridge) {
        window.kmpJsBridge.callNative(
          "NativeBridge",
          JSON.stringify({ message: "Hola desde JS" }),
          function (data) {
            const result = JSON.parse(data);
            document.getElementById("subtitle").innerText = result.message;
            console.log("Recibido de KMP:", result.message);
          }
        );
      } else {
        document.getElementById("subtitle").innerText = "Bridge no disponible.";
      }
    }
  </script>
</body>
</html>
