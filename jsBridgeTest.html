<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>1 JS Bridge Test</title>
</head>
<body>
  <h1 id="title">Test WebView JS Bridge</h1>
  <p id="subtitle">Esperando respuesta...</p>
  <button onclick="callNativeBridge()">Llamar a KMP</button>

  <script>
    function callNativeBridge() {
      if (typeof window.kmpJsBridge === "undefined") {
        alert("kmpJsBridge no estÃ¡ disponible");
        return;
      }

      window.kmpJsBridge.callNative(
        "NativeBridge",
        JSON.stringify({ message: "Hola desde JS" }),
        function (data) {
          const result = JSON.parse(data);
          document.getElementById("subtitle").innerText = result.message;
          console.log("Recibido de KMP:", result.message);
        }
      );
    }

    setTimeout(() => {
      const bridgeStatus = typeof window.kmpJsBridge !== "undefined";
      document.getElementById("subtitle").innerText =
        "Bridge disponible: " + bridgeStatus;
    }, 1000);
  </script>
</body>
</html>
